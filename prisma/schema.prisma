generator client {
  provider = "prisma-client-py"
  recursive_type_depth = 5
  enable_experimental_decimal = true
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model categories {
  category_id   Int       @id @default(autoincrement())
  category_name String    @unique @db.VarChar(100)
  created_at    DateTime? @default(now()) @db.Timestamp(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model expenses {
  id             Int       @id @default(autoincrement())
  invoice_no     String?   @default(dbgenerated("('INV-'::text || lpad((nextval('invoice_seq'::regclass))::text, 6, '0'::text))"))
  material_name  String
  amount         Decimal   @db.Decimal(10, 2)
  payment_method String
  advance_amount Decimal?  @default(0) @db.Decimal(10, 2)
  used           Boolean?  @default(false)
  added_by       String
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  entry_date     DateTime? @default(now()) @db.Timestamp(6)
  description    String?
  edited         Boolean?  @default(false)
}

model inventory {
  id             Int       @id @default(autoincrement())
  invoice_no     String?   @default(dbgenerated("('INV-'::text || lpad((nextval('invoice_seq'::regclass))::text, 6, '0'::text))"))
  category       String
  product_name   String
  cost_price     Decimal   @db.Decimal(10, 2)
  quantity       Int
  advance_amount Decimal?  @default(0) @db.Decimal(10, 2)
  added_by       String
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  entry_date     DateTime? @default(now()) @db.Timestamp(6)
  edited         Boolean?  @default(false)
}

model sales {
  id               Int       @id @default(autoincrement())
  invoice_no       String?   @default(dbgenerated("('INV-'::text || lpad((nextval('invoice_seq'::regclass))::text, 6, '0'::text))"))
  customer_name    String
  customer_address String?
  customer_phone   String?
  category         String
  product_name     String
  quantity         Int
  cost_price       Decimal   @db.Decimal(10, 2)
  sale_price       Decimal   @db.Decimal(10, 2)
  payment_type     String
  advance_amount   Decimal?  @default(0) @db.Decimal(10, 2)
  sold_by          String
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  entry_date       DateTime? @default(now()) @db.Timestamp(6)
  edited           Boolean?  @default(false)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model users {
  id         Int       @id @default(autoincrement())
  name       String    @db.VarChar(100)
  email      String    @unique @db.VarChar(100)
  password   String    @db.VarChar(255)
  role_id    Int       @db.SmallInt
  created_at DateTime? @default(now()) @db.Timestamp(6)
}
